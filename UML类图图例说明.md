# UMLç±»å›¾å›¾ä¾‹è¯´æ˜æ–‡æ¡£

## ğŸ“– æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†æ¡Œé¢å°éƒ¨ä»¶ç³»ç»ŸUMLç±»å›¾ä¸­ä½¿ç”¨çš„å„ç§ç¬¦å·ã€çº¿æ¡å’Œå…³ç³»çš„å«ä¹‰ã€‚é€šè¿‡ç†è§£è¿™äº›å›¾ä¾‹ï¼Œæ‚¨å¯ä»¥å‡†ç¡®è¯»æ‡‚ç³»ç»Ÿçš„ç±»ç»“æ„å’Œå…³ç³»è®¾è®¡ã€‚

## ğŸ—ï¸ ç±»çš„è¡¨ç¤º

### åŸºæœ¬ç±»ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ClassName          â”‚  â† ç±»å
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - privateField: Type    â”‚  â† ç§æœ‰å±æ€§
â”‚ # protectedField: Type  â”‚  â† ä¿æŠ¤å±æ€§  
â”‚ + publicField: Type     â”‚  â† å…¬æœ‰å±æ€§
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - privateMethod(): Type â”‚  â† ç§æœ‰æ–¹æ³•
â”‚ # protectedMethod()     â”‚  â† ä¿æŠ¤æ–¹æ³•
â”‚ + publicMethod(): Type  â”‚  â† å…¬æœ‰æ–¹æ³•
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç‰¹æ®Šç±»å‹æ ‡è®°

#### æŠ½è±¡ç±»
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    <<abstract>>         â”‚  â† æŠ½è±¡ç±»æ ‡è®°
â”‚      BaseWidget         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + {abstract} method()   â”‚  â† æŠ½è±¡æ–¹æ³•
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ¥å£
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     <<interface>>       â”‚  â† æ¥å£æ ‡è®°
â”‚     IWidgetPlugin       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + createWidget()        â”‚
â”‚ + getTypeName()         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æšä¸¾ç±»å‹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    <<enumeration>>      â”‚  â† æšä¸¾æ ‡è®°
â”‚      WidgetType         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Clock                   â”‚
â”‚ Weather                 â”‚
â”‚ Calendar                â”‚
â”‚ Notes                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### é™æ€ç±»
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Logger            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + {static} debug()      â”‚  â† é™æ€æ–¹æ³•æ ‡è®°
â”‚ + {static} info()       â”‚
â”‚ + {static} error()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”— å…³ç³»ç±»å‹è¯¦è§£

### 1. ç»§æ‰¿å…³ç³» (Inheritance)

**ç¬¦å·**: `<|--` æˆ– `--|>`  
**å«ä¹‰**: å­ç±»ç»§æ‰¿çˆ¶ç±»ï¼ŒIS-Aå…³ç³»  
**çº¿å‹**: å®çº¿ + ç©ºå¿ƒä¸‰è§’ç®­å¤´

```
BaseWidget <|-- ClockWidget
```

**å›¾å½¢è¡¨ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BaseWidget  â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â–³  â† ç©ºå¿ƒä¸‰è§’ç®­å¤´æŒ‡å‘çˆ¶ç±»
      â”‚
      â”‚  â† å®çº¿
â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ClockWidget â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åœ¨æ¡Œé¢å°éƒ¨ä»¶ç³»ç»Ÿä¸­çš„ä¾‹å­**:
- `ClockWidget` ç»§æ‰¿ `BaseWidget`
- `WeatherWidget` ç»§æ‰¿ `BaseWidget`
- `ManagementWindow` ç»§æ‰¿ `QWidget`

### 2. å®ç°å…³ç³» (Realization)

**ç¬¦å·**: `<|..` æˆ– `..|>`  
**å«ä¹‰**: ç±»å®ç°æ¥å£  
**çº¿å‹**: è™šçº¿ + ç©ºå¿ƒä¸‰è§’ç®­å¤´

```
IWidgetPlugin <|.. YourWidgetPlugin
```

**å›¾å½¢è¡¨ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <<interface>>   â”‚
â”‚ IWidgetPlugin   â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–³  â† ç©ºå¿ƒä¸‰è§’ç®­å¤´
      â”Š  â† è™šçº¿
â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚YourWidgetPlugin â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ç»„åˆå…³ç³» (Composition)

**ç¬¦å·**: `*--` æˆ– `--*`  
**å«ä¹‰**: å¼ºå…³è”ï¼Œæ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œéƒ¨åˆ†ä¸èƒ½ç‹¬ç«‹å­˜åœ¨  
**çº¿å‹**: å®çº¿ + å®å¿ƒè±å½¢

```
WidgetManager *-- BaseWidget
```

**å›¾å½¢è¡¨ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â™¦â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WidgetManager â”‚â”€â”€â”€â”€â–        â”‚ â”‚ BaseWidget  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â™¦â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†‘
              å®å¿ƒè±å½¢(ç»„åˆ)
```

**ç‰¹ç‚¹**:
- ç”Ÿå‘½å‘¨æœŸç»‘å®šï¼šçˆ¶å¯¹è±¡é”€æ¯æ—¶ï¼Œå­å¯¹è±¡ä¹Ÿè¢«é”€æ¯
- ä¸å¯å…±äº«ï¼šéƒ¨åˆ†å¯¹è±¡ä¸èƒ½è¢«å¤šä¸ªæ•´ä½“å¯¹è±¡å…±äº«

**åœ¨æ¡Œé¢å°éƒ¨ä»¶ç³»ç»Ÿä¸­çš„ä¾‹å­**:
- `WidgetManager` ç»„åˆ `BaseWidget` - Widgetçš„ç”Ÿå‘½å‘¨æœŸç”±Manageræ§åˆ¶
- `ThemeManager` ç»„åˆ `ThemeResourceManager` - èµ„æºç®¡ç†å™¨æ˜¯ä¸»é¢˜ç®¡ç†å™¨çš„ä¸€éƒ¨åˆ†

### 4. èšåˆå…³ç³» (Aggregation)

**ç¬¦å·**: `o--` æˆ– `--o`  
**å«ä¹‰**: å¼±å…³è”ï¼Œæ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œéƒ¨åˆ†å¯ä»¥ç‹¬ç«‹å­˜åœ¨  
**çº¿å‹**: å®çº¿ + ç©ºå¿ƒè±å½¢

```
ManagementWindow o-- WidgetManager
```

**å›¾å½¢è¡¨ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â—‡â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ManagementWindow â”‚â”€â”€â”€â”€â—‡       â”‚ â”‚ WidgetManager â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â—‡â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†‘
                 ç©ºå¿ƒè±å½¢(èšåˆ)
```

**ç‰¹ç‚¹**:
- ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹ï¼šéƒ¨åˆ†å¯¹è±¡å¯ä»¥ç‹¬ç«‹äºæ•´ä½“å¯¹è±¡å­˜åœ¨
- å¯å…±äº«ï¼šéƒ¨åˆ†å¯¹è±¡å¯ä»¥è¢«å¤šä¸ªæ•´ä½“å¯¹è±¡ä½¿ç”¨

### 5. å…³è”å…³ç³» (Association)

**ç¬¦å·**: `--` æˆ– `-->`  
**å«ä¹‰**: å¯¹è±¡ä¹‹é—´çš„å¼•ç”¨å…³ç³»  
**çº¿å‹**: å®çº¿ + ç®­å¤´(å¯é€‰)

```
WidgetRenderer --> BaseWidget : renders
```

**å›¾å½¢è¡¨ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WidgetRenderer  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ BaseWidget  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åœ¨æ¡Œé¢å°éƒ¨ä»¶ç³»ç»Ÿä¸­çš„ä¾‹å­**:
- `WidgetRenderer` å…³è” `BaseWidget` - æ¸²æŸ“å™¨éœ€è¦å¼•ç”¨Widgetè¿›è¡Œæ¸²æŸ“
- `InteractionSystem` å…³è” `BaseWidget` - äº¤äº’ç³»ç»Ÿç®¡ç†å½“å‰æ´»åŠ¨çš„Widget

### 6. ä¾èµ–å…³ç³» (Dependency)

**ç¬¦å·**: `..>` æˆ– `<..`  
**å«ä¹‰**: ä¸´æ—¶çš„ã€å¼±çš„å…³ç³»ï¼Œä¸€ä¸ªç±»ä½¿ç”¨å¦ä¸€ä¸ªç±»  
**çº¿å‹**: è™šçº¿ + ç®­å¤´

```
CreateWidgetDialog ..> WidgetConfig : creates
```

**å›¾å½¢è¡¨ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CreateWidgetDialog  â”‚â”„â”„â”„â”„â”„â”„â†’â”‚ WidgetConfig â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**:
- ä¸´æ—¶å…³ç³»ï¼šé€šå¸¸åœ¨æ–¹æ³•å‚æ•°ã€å±€éƒ¨å˜é‡ä¸­ä½¿ç”¨
- å¼±è€¦åˆï¼šè¢«ä¾èµ–çš„ç±»æ”¹å˜å¯èƒ½å½±å“ä¾èµ–ç±»

**åœ¨æ¡Œé¢å°éƒ¨ä»¶ç³»ç»Ÿä¸­çš„ä¾‹å­**:
- `CreateWidgetDialog` ä¾èµ– `WidgetConfig` - åˆ›å»ºå¯¹è¯æ¡†ç”Ÿæˆé…ç½®å¯¹è±¡
- `ConfigWindow` ä¾èµ– `BaseWidget` - é…ç½®çª—å£ä¸´æ—¶é…ç½®Widget

## ğŸ¨ å¯è§æ€§ä¿®é¥°ç¬¦

### ç¬¦å·è¯´æ˜

| ç¬¦å· | å¯è§æ€§ | å«ä¹‰ | C++å¯¹åº” |
|------|--------|------|---------|
| `+` | public | å…¬æœ‰ | `public:` |
| `-` | private | ç§æœ‰ | `private:` |
| `#` | protected | ä¿æŠ¤ | `protected:` |
| `~` | package | åŒ…çº§åˆ« | `internal` (C#) |

### ç¤ºä¾‹

```cpp
class BaseWidget {
private:           // - privateField
    bool m_isDragging;

protected:         // # protectedMethod()
    virtual void mousePressEvent();

public:            // + publicMethod()
    virtual void updateData() = 0;
};
```

**åœ¨UMLä¸­è¡¨ç¤ºä¸º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      BaseWidget         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - m_isDragging: bool    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ # mousePressEvent()     â”‚
â”‚ + updateData()          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ·ï¸ ç‰¹æ®Šæ ‡è®°è¯´æ˜

### æ–¹æ³•ä¿®é¥°ç¬¦

| æ ‡è®° | å«ä¹‰ | PlantUMLè¯­æ³• |
|------|------|--------------|
| `{abstract}` | æŠ½è±¡æ–¹æ³• | `+ {abstract} method()` |
| `{static}` | é™æ€æ–¹æ³• | `+ {static} method()` |
| `{virtual}` | è™šæ–¹æ³• | `+ {virtual} method()` |

### ä¿¡å·å’Œæ§½ (Qtç‰¹æœ‰)

**ä¿¡å· (Signals)**:
```
{signal} widgetCreated(id: QString)
```

**æ§½ (Slots)**:
```
{slot} onWidgetCreated()
```

### ä¾‹å­ï¼šWidgetManagerç±»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         WidgetManager           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - m_widgets: Map<String, Widget>â”‚
â”‚ - m_configPath: String          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + createWidget(): bool          â”‚
â”‚ + removeWidget(): bool          â”‚
â”‚ {signal} widgetCreated()        â”‚
â”‚ {signal} widgetRemoved()        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ åŒ…å’Œå‘½åç©ºé—´

### åŒ…è¡¨ç¤º

**PlantUMLè¯­æ³•**:
```puml
package "Framework Layer" {
    class WidgetFramework
    class WidgetManager
}

package "Widget Types" {
    class ClockWidget
    class WeatherWidget
}
```

**å›¾å½¢è¡¨ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Framework Layer          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚     WidgetFramework         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚     WidgetManager           â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ å¤šé‡æ€§ (Multiplicity)

### ç¬¦å·è¯´æ˜

| ç¬¦å· | å«ä¹‰ |
|------|------|
| `1` | æ­£å¥½ä¸€ä¸ª |
| `0..1` | é›¶ä¸ªæˆ–ä¸€ä¸ª |
| `1..*` | ä¸€ä¸ªæˆ–å¤šä¸ª |
| `*` | é›¶ä¸ªæˆ–å¤šä¸ª |
| `n` | æ­£å¥½nä¸ª |
| `0..n` | é›¶åˆ°nä¸ª |

### ç¤ºä¾‹

```
WidgetManager "1" *-- "*" BaseWidget
```

**è§£é‡Š**: ä¸€ä¸ªWidgetManagerå¯ä»¥ç®¡ç†é›¶ä¸ªæˆ–å¤šä¸ªBaseWidget

**å›¾å½¢è¡¨ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 1    * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WidgetManager â”‚â™¦â”€â”€â”€â”€â”€â”€â”‚ BaseWidget  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ å…³è”æ–¹å‘

### å•å‘å…³è”

```
ClassA --> ClassB
```

**å«ä¹‰**: ClassAçŸ¥é“ClassBï¼Œä½†ClassBä¸çŸ¥é“ClassA

### åŒå‘å…³è”

```
ClassA <--> ClassB
```

**å«ä¹‰**: ä¸¤ä¸ªç±»ç›¸äº’çŸ¥é“å¯¹æ–¹

### æ— æ–¹å‘å…³è”

```
ClassA -- ClassB
```

**å«ä¹‰**: å…³ç³»å­˜åœ¨ä½†æ–¹å‘ä¸é‡è¦æˆ–æœªæŒ‡å®š

## ğŸ“‹ æ³¨é‡Šå’Œæ ‡ç­¾

### å…³ç³»æ ‡ç­¾

```
WidgetRenderer --> BaseWidget : renders
ConfigWindow --> BaseWidget : configures
```

**å›¾å½¢è¡¨ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  renders  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WidgetRenderer  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ BaseWidget  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” configures â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ConfigWindow â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ BaseWidget  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ³¨é‡Š

```puml
note left of BaseWidget : æ‰€æœ‰Widgetçš„åŸºç±»
note right of WidgetManager : ç®¡ç†Widgetç”Ÿå‘½å‘¨æœŸ
```

## ğŸ¨ é¢œè‰²å’Œæ ·å¼ (PlantUMLç‰¹æœ‰)

### ç±»é¢œè‰²

```puml
class BaseWidget {
    background-color: lightblue
}

abstract class BaseWidget #lightgreen
```

### å…³ç³»æ ·å¼

```puml
BaseWidget <|-- ClockWidget : ç»§æ‰¿
BaseWidget <|-- WeatherWidget #red : çº¢è‰²ç»§æ‰¿çº¿
```

## ğŸ” å®é™…åº”ç”¨ç¤ºä¾‹

### æ¡Œé¢å°éƒ¨ä»¶ç³»ç»Ÿæ ¸å¿ƒå…³ç³»å›¾è§£

```
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ QWidget (Qt)    â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–³
               â”‚ ç»§æ‰¿ (å®çº¿+ç©ºå¿ƒä¸‰è§’)
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  BaseWidget     â”‚ â† æŠ½è±¡åŸºç±»
         â”‚  <<abstract>>   â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–³
               â”‚ ç»§æ‰¿
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          â”‚          â”‚
â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â” â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Clock   â”‚ â”‚Weather  â”‚ â”‚Calendar  â”‚
â”‚Widget  â”‚ â”‚Widget   â”‚ â”‚Widget    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WidgetManager   â”‚â™¦â”€â”€â”€â”€â”€â”€â”‚ BaseWidget  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   *    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–³                        â†‘
         â”‚ èšåˆ                   â”‚ å…³è”
         â”‚ (å®çº¿+ç©ºå¿ƒè±å½¢)         â”‚ (å®çº¿+ç®­å¤´)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ManagementWindow â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  uses
```

## ğŸ¯ è¯»å›¾è¦ç‚¹

### 1. ä»ä¸Šåˆ°ä¸‹é˜…è¯»
- é¡¶å±‚æ˜¯æœ€æŠ½è±¡çš„ç±»
- åº•å±‚æ˜¯å…·ä½“å®ç°ç±»

### 2. å…³æ³¨å…³ç³»å¼ºåº¦
- **ç»„åˆ** > **èšåˆ** > **å…³è”** > **ä¾èµ–**
- å…³ç³»è¶Šå¼ºï¼Œè€¦åˆåº¦è¶Šé«˜

### 3. ç†è§£ç”Ÿå‘½å‘¨æœŸ
- **ç»„åˆå…³ç³»**: å­å¯¹è±¡ç”Ÿå‘½å‘¨æœŸä¾èµ–çˆ¶å¯¹è±¡
- **èšåˆå…³ç³»**: å­å¯¹è±¡å¯ä»¥ç‹¬ç«‹å­˜åœ¨
- **å…³è”å…³ç³»**: å¯¹è±¡é—´æœ‰å¼•ç”¨ä½†ç‹¬ç«‹ç®¡ç†ç”Ÿå‘½å‘¨æœŸ

### 4. åˆ†å±‚ç†è§£
- **Framework Layer**: ç³»ç»Ÿæ ¸å¿ƒæ¡†æ¶
- **Core Components**: åŸºç¡€ç»„ä»¶
- **Widget Types**: å…·ä½“å®ç°
- **Utils**: å·¥å…·å’Œè¾…åŠ©ç±»

## ğŸ“š å‚è€ƒèµ„æº

### UMLæ ‡å‡†æ–‡æ¡£
- [UML 2.5 è§„èŒƒ](https://www.omg.org/spec/UML/)
- [PlantUML å®˜æ–¹æ–‡æ¡£](https://plantuml.com/zh/class-diagram)

### æ‰©å±•é˜…è¯»
- ã€ŠUMLåŸºç¡€ã€æ¡ˆä¾‹ä¸åº”ç”¨ã€‹
- ã€Šè®¾è®¡æ¨¡å¼ï¼šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹
- Qtå®˜æ–¹æ–‡æ¡£ - ä¿¡å·æ§½æœºåˆ¶

## âœ… æ£€æŸ¥æ¸…å•

é˜…è¯»UMLç±»å›¾æ—¶ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹è¦ç‚¹ï¼š

- [ ] è¯†åˆ«ç±»çš„ç±»å‹ï¼ˆæ™®é€šç±»ã€æŠ½è±¡ç±»ã€æ¥å£ã€æšä¸¾ï¼‰
- [ ] ç†è§£å±æ€§å’Œæ–¹æ³•çš„å¯è§æ€§
- [ ] åŒºåˆ†ä¸åŒç±»å‹çš„å…³ç³»ï¼ˆç»§æ‰¿ã€ç»„åˆã€èšåˆã€å…³è”ã€ä¾èµ–ï¼‰
- [ ] æ³¨æ„å…³ç³»çš„æ–¹å‘æ€§å’Œå¤šé‡æ€§
- [ ] ç†è§£åŒ…å’Œå‘½åç©ºé—´çš„ç»„ç»‡ç»“æ„
- [ ] å…³æ³¨ç‰¹æ®Šæ ‡è®°å’Œæ³¨é‡Šä¿¡æ¯

---

**é€šè¿‡ç†è§£è¿™äº›å›¾ä¾‹ï¼Œæ‚¨å¯ä»¥å‡†ç¡®è§£è¯»æ¡Œé¢å°éƒ¨ä»¶ç³»ç»Ÿçš„UMLç±»å›¾ï¼Œæ›´å¥½åœ°ç†è§£ç³»ç»Ÿæ¶æ„å’Œè®¾è®¡æ€è·¯ã€‚** 